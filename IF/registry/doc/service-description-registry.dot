/* Graphviz diagram for the Planets Service Registry classes */

digraph registry {
  node[shape=record style=filled,fillcolor=grey95 width=1.5]
  edge[]
  Core[label = "{CoreRegistry|descriptions:List\n\<ServiceDescription\>|...}"]
  WS[label = "{RegistryWebservice|registry:Registry\n...|...}"]
  Persistent[label = "{PersistentRegistry|registry:Registry\n...|...}"]
  ServiceRegistry[label = "{\<\<Interface\>\>\nRegistry||...}"]
  Factory[label = "{RegistryFactory|...|getInstance():Registry\n...}"]
  NonIfProgrammer[label = "Non-IF Programmer\n (web service instance)" style=rounded]
  IfProgrammer[label = "IF Programmer\n(local instance)" style=rounded]
  
  subgraph cluster_internal{
    color=white
    Persistent->Core[arrowhead=none arrowtail=odiamond]
    Persistent->WS[arrowhead=odiamond]
  }
  
  subgraph cluster_public{
    labeljust=r
    labelloc=b
    color=grey
    label="API"
    Persistent->ServiceRegistry[arrowhead=empty]
    Core->ServiceRegistry[arrowhead=empty label=" \<\<implements\>\>"]
    WS->ServiceRegistry[arrowhead=empty ] 
    ServiceRegistry->Factory[arrowtail=none arrowhead=odiamond]
  }
  Factory->NonIfProgrammer[arrowhead=none style=dashed]
  Factory->IfProgrammer[arrowhead=none style=dashed]
}