<serviceWrapping version="1.0">

    <serviceDescription>

        <title>
            Dia migration service.
        </title>

        <description>
            Migration of formats that can be handled by Dia. E.g.
            migration from Dia files to a variety of other formats such as Fig,
            SVG and PNG, but also migration between non-Dia formats. E.g.
            migration from Fig to SVG.  
        </description>

        <tool>
            <name>
                dia
            </name>

            <description>
                Dia is roughly inspired by the commercial Windows
                program 'Visio', though more geared towards informal diagrams
                for casual use. It can be used to draw many different kinds of
                diagrams.
                It currently has special objects to help draw entity
                relationship
                diagrams, UML diagrams, flowcharts, network
                diagrams, and many other
                diagrams. It is also possible to add
                support for new shapes by
                writing simple XML files, using a
                subset of SVG to draw the shape.

                It can load and save diagrams to
                a custom XML format (gzipped by
                default, to save space), can
                export diagrams to a number of formats,
                including EPS, SVG, XFIG,
                WMF and PNG, and can print diagrams
                (including ones that span
                multiple pages).
			</description>

            <homepage>http://live.gnome.org/Dia</homepage>

            <version>
                Dia version 0.96.1, compiled 09:31:57 Nov 26 2008
            </version>
        </tool>

        <version>
            1.00
        </version>

        <creator>
			<![CDATA["Thomas Skou Hansen <tsh@statsbiblioteket.dk>"]]>
        </creator>

        <instructions>
            Install Dia version 0.96.1 on the system providing this
            dia
            migratoin service and make sure that the run-time configuration
            (the pserv-pa-dia.properties file) for is properly configured to
            use
            this version of dia.
        </instructions>

        <furtherinfo>http://live.gnome.org/Dia</furtherinfo>

        <logo>http://projects.gnome.org/dia/images/dialogo.jpg</logo>

        <properties>
        </properties>
    </serviceDescription>

    <paths>
        <path>
            <inputformats>
                <!-- Xfig file extension-->
                <uri value="planets:fmt/ext/fig" />
            </inputformats>

            <outputformat>
                <!-- Unspecified (current) dia file format version -->
                <uri value="info:pronom/x-fmt/381" />
            </outputformat>

            <commandline>
                <command>
                    #shellcommand
                </command>

                <commandparameters>
                    <parameter>
                        #shellcommandoption
                    </parameter>

                    <parameter>
                        <![CDATA[#diacommand -n -l -t dia -e #outputFile #inputFile]]>
                    </parameter>
                </commandparameters>
            </commandline>

            <toolinput>
                <tempfile label="inputFile" name="diaFigInput.fig">
                </tempfile>
            </toolinput>

            <tooloutput>
                <tempfile label="outputFile">
                </tempfile>
            </tooloutput>

            <tempfiles>
            </tempfiles>

            <toolparameters>
            </toolparameters>

            <toolpresets>
            </toolpresets>
        </path>

        <path>
            <inputformats>
                <!-- Unspecified (current) dia file format version -->
                <uri value="info:pronom/x-fmt/381" />
            </inputformats>

            <outputformat>
                <!-- PNG version 1.2 FIXME! Verify this! -->
                <uri value="info:pronom/fmt/13" />
            </outputformat>

            <commandline>
                <command>
                    #shellcommand
                </command>

                <commandparameters>
                    <parameter>
                        #shellcommandoption
                    </parameter>

                    <parameter>
                        <![CDATA[#diacommand -n -l -t png -e #outputFile #inputFile]]>
                    </parameter>
                </commandparameters>
            </commandline>

            <toolinput>
                <tempfile label="inputFile" name="diaInput.dia">
                </tempfile>
            </toolinput>

            <tooloutput>
                <tempfile label="outputFile">
                </tempfile>
            </tooloutput>

            <tempfiles>
            </tempfiles>

            <toolparameters>
            </toolparameters>

            <toolpresets>
            </toolpresets>
        </path>

        <path>
            <inputformats>
                <!-- Dia files. -->
                <uri value="info:pronom/x-fmt/381" />
            </inputformats>

            <outputformat>
                <!-- SVG version 1.0 -->
                <uri value="info:pronom/fmt/91" />
            </outputformat>

            <commandline>
                <command>
                    #shellcommand
                </command>

                <commandparameters>
                    <parameter>
                        #shellcommandoption
                    </parameter>

                    <parameter>
				    	<![CDATA[#diacommand -n -l -t svg -e #outputFile #inputFile]]>
                    </parameter>
                </commandparameters>
            </commandline>

            <toolinput>
                <tempfile label="inputFile" name="inputFile.dia">
                </tempfile>
            </toolinput>

            <tooloutput>
                <tempfile label="outputFile">
                </tempfile>
            </tooloutput>

            <tempfiles>
            </tempfiles>

            <toolparameters>
            </toolparameters>

            <toolpresets>
            </toolpresets>
        </path>

        <path>
            <inputformats>
                <!-- Xfig file extension-->
                <uri value="planets:fmt/ext/fig" />
            </inputformats>

            <outputformat>
                <!-- PNG version 1.2 FIXME! Verify this! -->
                <uri value="info:pronom/fmt/13" />
            </outputformat>

            <commandline>
                <command>
                    #shellcommand
                </command>

                <commandparameters>
                    <parameter>
                        #shellcommandoption
                    </parameter>

                    <parameter>
                        <![CDATA[#diacommand -n -l -t dia -e #tempDiaFile #inputFile && #diacommand -n -l -t png -e #outputFile #tempDiaFile]]>
                    </parameter>
                </commandparameters>
            </commandline>

            <toolinput>
                <tempfile label="inputFile" name="inputFile.fig">
                </tempfile>
            </toolinput>

            <tooloutput>
                <tempfile label="outputFile">
                </tempfile>
            </tooloutput>

            <tempfiles>
                <tempfile label="tempDiaFile" name="tempDiaFile.dia">
                </tempfile>
            </tempfiles>

            <toolparameters>
            </toolparameters>

            <toolpresets>
            </toolpresets>
        </path>

    </paths>
</serviceWrapping>