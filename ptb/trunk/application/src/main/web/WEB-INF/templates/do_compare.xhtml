<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:c="http://java.sun.com/jsp/jstl/core" 
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:t="http://myfaces.apache.org/tomahawk"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">
<body>
  <ui:composition rendered="#{dob != null}">

        <div id="mainwrapper">
        <div id="maincol">
        <div class="innertubemain">

  
  <a4j:form id="dobCompareForm">
    <!-- Persist the dob ID through POST, if any. -->    
    <input type="hidden" name="dobUri1" value="#{DobCompare.dobUri1}"/>
    <input type="hidden" name="dobUri2" value="#{DobCompare.dobUri2}"/>
  
  <div id="digitalObjectRegistryBrowser">
  <h:panelGrid columns="2" columnClasses="halfContent">
    <rich:panel id="dobSummary1">
      <f:facet name="header">
            <h:outputText value="#{DobCompare.dob1.leafname}"/>
      </f:facet>

         <ui:include src="/WEB-INF/templates/do_summary.xhtml">
           <ui:param name="dob" value="#{DobCompare.dob1}"/>
         </ui:include>
    
    
    </rich:panel>
    
    <rich:panel id="dobSummary2">
      <f:facet name="header">
            <h:outputText value="#{DobCompare.dob2.leafname}"/>
      </f:facet>

         <ui:include src="/WEB-INF/templates/do_summary.xhtml">
           <ui:param name="dob" value="#{DobCompare.dob2}"/>
         </ui:include>
  
    
    </rich:panel>
    
    </h:panelGrid>
    
    <rich:panel id="dobCompare">
      <f:facet name="header">
            <h:outputText value="Compare #{DobCompare.dob1.leafname} against #{DobCompare.dob2.leafname}"/>
      </f:facet>
      
      <dt><b>Compare</b></dt>
      <dd>
        <h:selectOneMenu value="#{DobCompare.compareService}">
          <f:selectItem itemValue="" itemLabel="[none]" />
          <f:selectItems value="#{DobCompare.compareServiceList}" />
          <a4j:support event="onchange" reRender="dobCompareForm" />
        </h:selectOneMenu>
      </dd>
      <dt>Compare Report:</dt>
      <dd>
        <h:outputText value="#{DobCompare.compareServiceReport}"/>
      </dd>
      <dt>Compare Result:</dt>
          <dd>
            <a4j:repeat value="#{DobCompare.compareProperties}" var="prop">
             <a4j:commandLink>
               <h:outputText value=" #{prop.name}"/>
               <rich:toolTip value="#{prop.uri}"/>
             </a4j:commandLink>
             <h:outputText value=" = "/>
             <i><h:outputText value="#{prop.value}"/></i><br/>
            </a4j:repeat>
          </dd>
          

      <dt><b>Characterise</b></dt>
      <dd>
        <h:selectOneMenu value="#{DobCompare.characteriseService}">
          <f:selectItem itemValue="" itemLabel="[none]" />
          <f:selectItems value="#{DobCompare.characteriseServiceList}" />
          <a4j:support event="onchange" reRender="dobCompareForm" />
        </h:selectOneMenu>
      </dd>

  <h:panelGrid columns="2" columnClasses="halfContent">
    <rich:panel id="dobProperties1">
      <f:facet name="header">
            <h:outputText value="#{DobCompare.dob1.leafname}"/>
      </f:facet>

      <dt>Characterise Report:</dt>
      <dd>
        <h:outputText value="#{DobCompare.characterise1ServiceReport}"/>
      </dd>
      <dt>Characterise Result:</dt>
          <dd>
            <a4j:repeat value="#{DobCompare.characterise1Properties}" var="prop">
             <a4j:commandLink>
               <h:outputText value=" #{prop.name}"/>
               <rich:toolTip value="#{prop.uri}"/>
             </a4j:commandLink>
             <h:outputText value=" = "/>
             <i><h:outputText value="#{prop.value}"/></i><br/>
            </a4j:repeat>
          </dd>
    
    
    </rich:panel>
    
    <rich:panel id="dobProperties2">
      <f:facet name="header">
            <h:outputText value="#{DobCompare.dob2.leafname}"/>
      </f:facet>

      <dt>Characterise Report:</dt>
      <dd>
        <h:outputText value="#{DobCompare.characterise2ServiceReport}"/>
      </dd>
      <dt>Characterise Result:</dt>
          <dd>
            <a4j:repeat value="#{DobCompare.characterise2Properties}" var="prop">
             <a4j:commandLink>
               <h:outputText value=" #{prop.name}"/>
               <rich:toolTip value="#{prop.uri}"/>
             </a4j:commandLink>
             <h:outputText value=" = "/>
             <i><h:outputText value="#{prop.value}"/></i><br/>
            </a4j:repeat>
          </dd>
  
    
    </rich:panel>
  </h:panelGrid>

      <p>
      <br/>
      </p>
      
      
    </rich:panel>
    
    </div>
    
    <p>
      <h:commandButton action="browse_data"
        value="Return to the Data Browser"/>
    </p>
    
 </a4j:form>
  
        
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
    
        </div>
        </div>
        </div>
        
        
        <div id="leftcol">
        
        <h3 class="leftcol">Data Browser</h3>
                <div class="innertube">        
                    <p class="leftcol">
                    <h:outputLink value="browse_data.faces">
                        <f:param name="dobUri" value="#{dob.uri}"/>
                        <h:outputText value="Return to the Data Browser"/>.
                    </h:outputLink>
                    </p>
                </div>
                
        <h3 class="leftcol">Inspector</h3>
        <div class="innertube">        
        <p class="leftcol">

        </p>
        </div>
        
        </div>
    
  </ui:composition>
</body>
</html>
    