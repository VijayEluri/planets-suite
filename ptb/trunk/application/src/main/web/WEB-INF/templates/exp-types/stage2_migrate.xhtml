<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:c="http://java.sun.com/jstl/core"	
    xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:t="http://myfaces.apache.org/tomahawk"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">
<body>
  <ui:composition rendered="#{ExperimentBean.etype == 'migrate'}">

<fieldset>
    <legend>Migration Experiment</legend>
    
    <div class="expStartDO">
    For each Digital Object of format:<br/>
    <h:panelGroup rendered="#{!ExperimentBean.approved}">
    <h:selectOneMenu id="inputFormatSelectMenu" value="#{ExpTypeMigrate.inputFormat}" onchange="submit();">
         <f:selectItem itemValue="" itemLabel="[undefined]" />
         <f:selectItems value="#{ExpTypeMigrate.inputFormatList}" />
    </h:selectOneMenu>
    </h:panelGroup>
    <h:panelGroup rendered="#{ExperimentBean.approved}">
      <h:outputText value="#{ExpTypeMigrate.inputFormat}"/>
    </h:panelGroup>
    
    </div>
    
    <div class="expSimpleStep">
      <t:graphicImage value="/graphics/go-down.png" alt="...then..."/>
    </div>


    <div class="expChooseService">
    <div class="expStageHeader">Characterise Before</div>
    
    <h:panelGroup rendered="#{!ExperimentBean.approved}">
    <h:selectOneMenu id="preServiceSelectMenu" value="#{ExpTypeMigrate.preMigrationService}" onchange="submit();" 
            disabled="#{ExperimentBean.approved}">
         <f:selectItem itemValue="" itemLabel="Do not characterise." />
         <f:selectItems value="#{ExpTypeMigrate.preMigrationServiceList}" />
    </h:selectOneMenu>
    </h:panelGroup>
                 
    <h:panelGroup rendered="#{ExperimentBean.approved}">
      <h:outputText value="#{ExpTypeMigrate.preMigrationService}" />
    </h:panelGroup>
             
    </div>
    
    <div class="expSimpleStep">
      <t:graphicImage value="/graphics/go-down.png" alt="...then..."/>
    </div>
    
    <div class="expChooseService">
    <div class="expStageHeader">Migrate</div>
    Pass Through This Migration Service:<br/>
    
    <h:panelGroup rendered="#{!ExperimentBean.approved}">
    <h:selectOneMenu id="serviceSelectMenu" value="#{ExpTypeMigrate.migrationService}" onchange="submit();">
         <f:selectItem itemValue="" itemLabel="[undefined]" />
         <f:selectItems value="#{ExpTypeMigrate.migrationServiceList}" />
    </h:selectOneMenu>
    </h:panelGroup>
    
    <h:panelGroup rendered="#{ExperimentBean.approved}">
      <h:outputText value="#{ExpTypeMigrate.migrationService}" />
    </h:panelGroup>
    
    </div>
    
    <div class="expSimpleStep">
      <t:graphicImage value="/graphics/go-down.png" alt="...then..."/>
    </div>
    
    <div class="expChooseService">
    <div class="expStageHeader">Characterise After</div>
    
    <h:panelGroup rendered="#{!ExperimentBean.approved}">
    <h:selectOneMenu id="postServiceSelectMenu" value="#{ExpTypeMigrate.postMigrationService}" onchange="submit();"
            disabled="#{ExperimentBean.approved}">
         <f:selectItem itemValue="" itemLabel="Do not characterise." />
         <f:selectItems value="#{ExpTypeMigrate.postMigrationServiceList}" />
    </h:selectOneMenu>
    </h:panelGroup>

    <h:panelGroup rendered="#{ExperimentBean.approved}">
      <h:outputText value="#{ExpTypeMigrate.postMigrationService}" />
    </h:panelGroup>
             
    </div>
    
    <div class="expSimpleStep">
      <t:graphicImage value="/graphics/go-down.png" alt="...then..."/>
    </div>

    <div class="expResultBox">
    <div class="expStageHeader">Result</div>
    A new Digital Object of format:<br/>
    <h:panelGroup rendered="#{!ExperimentBean.approved}">
    <h:selectOneMenu id="outputFormatSelectMenu" value="#{ExpTypeMigrate.outputFormat}" onchange="submit();">
         <f:selectItem itemValue="" itemLabel="[undefined]" />
         <f:selectItems value="#{ExpTypeMigrate.outputFormatList}" />
    </h:selectOneMenu>
    </h:panelGroup>
    <h:panelGroup rendered="#{ExperimentBean.approved}">
      <h:outputText value="#{ExpTypeMigrate.outputFormat}"/>
    </h:panelGroup>
    
    </div>
    
</fieldset>

  </ui:composition>
</body>
</html>