<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:fn="http://java.sun.com/jstl/functions"
      xmlns:tb="http://planets-project.eu/testbed">      
<body>

<ui:composition>
<tb:getUser></tb:getUser>
  <f:loadBundle basename="eu.planets_project.tb.gui.UIResources"
                var="res"/>
	<div id="banner">

		<a name="top"></a>
        <h:outputLink value="#{facesContext.externalContext.requestContextPath}/">
          <img src="${facesContext.externalContext.requestContextPath}/graphics/planets-testbed.gif" alt="PLANETS: Testbed" title="PLANETS: Testbed" style="margin: 6px 0 0 10px;"/>
        </h:outputLink>
	</div>
	<div id="gelinks">
		<div id="geleft"> &#160;</div>
		<h:form>
			<ui:fragment id="userLogin" rendered="#{empty UserBean.userid}">
				<div id="geright">
					<p class="glinks"> 
						<h:commandLink styleClass="glinks" action="home">
						<!-- h:commandLink styleClass="glinks" action="login" -->
							<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_user.gif" class="toolbar"/>
							<h:outputText value="#{res['login.login']}"/>
						</h:commandLink>
					</p>		
				</div>
			</ui:fragment>
			<ui:fragment id="userHeader" rendered="#{not empty UserBean.userid}">
				<div id="geright">
					<p class="glinks">${UserBean.userid}
                        <a target="_blank" class="glinks" href="/users/editprofile.faces">
                        <img class="toolbar" src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_user.gif" alt="" title="" />
                        <h:outputText value="#{res.editprofile}"/>
                        </a> |
                        <a class="glinks" href="/testbed/logout-redirect.jsp">
                          <img class="toolbar" src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_logout.gif" alt="" title="" />
                          <h:outputText value="#{res.logout}"/>
                        </a>
					</p>
				</div>
			</ui:fragment>
		</h:form>
	</div>

	<div class="clear"></div>
<h:form styleClass="hidden">
	<div id="header">
	    
		<ul>
			<c:if test="${(empty page) or (page == 'home')}">
				<li id="current">
				<h:outputLink value="#{facesContext.externalContext.requestContextPath}/">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_home.gif" class="toolbar"/>
					<h:outputText value="#{res.home}"/>
				</h:outputLink>
				</li>
			</c:if>
			<c:if test="${(!empty page) and (page != 'home')}">
				<li>
                <h:outputLink value="#{facesContext.externalContext.requestContextPath}/">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_home.gif" class="toolbar"/>
					<h:outputText value="#{res.home}"/>
				</h:outputLink>
				</li>
			</c:if>
			
<!-- start of experimenter tabs -->						
			<c:if test="${page == 'new_exp'}">
				<li id="current">
				<h:commandLink action="#{Manager_Backing.initExperimentAction}" rendered="#{UserBean.experimenter}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_new.gif" class="toolbar"/>
					<h:outputText value="#{res['new_exp.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'new_exp' and UserBean.experimenter == true}">
                            <li>
                                <h:commandLink action="#{Manager_Backing.initExperimentAction}" rendered="#{UserBean.experimenter}">
                                    <img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_new.gif" class="toolbar"/>
                                    <h:outputText value="#{res['new_exp.pageTitle']}"/>
                                </h:commandLink>
                            </li>
			
			</c:if>
			<c:if test="${page == 'my_exp' || page == 'import_exp'}">
				<li id="current">
				<h:commandLink action="my_experiments" rendered="#{UserBean.experimenter}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_my.gif" class="toolbar"/>
					<h:outputText value="#{res['my_exp.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'my_exp' and UserBean.experimenter == true}">
				<li>
				<h:commandLink action="my_experiments" rendered="#{UserBean.experimenter}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_my.gif" class="toolbar"/>
					<h:outputText value="#{res['my_exp.pageTitle']}"/>
				</h:commandLink>
			</li>
			</c:if>
<!-- end of experimenter tabs -->			
			
			<!-- tab is selected (current) and highlighted-->
			<c:if test="${page == 'browse_exp'}">
				<li id="current">
					<h:commandLink action="browse_experiments" rendered="#{UserBean.reader}">
						<img class="toolbar" src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_browse.gif" alt="" title="" />
						 #{res['browse_exp.pageTitle']}
					</h:commandLink>
				</li>
			</c:if>
			<!-- tab is not selected (current) but just displayed-->
			<c:if test="${page != 'browse_exp' and UserBean.reader == true}">
				<li>
					<h:commandLink action="browse_experiments"  rendered="#{UserBean.reader}">
						<img class="toolbar" src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_browse.gif" alt="" title="" />
						 #{res['browse_exp.pageTitle']}
					</h:commandLink>
				</li>
			</c:if>
			
			<c:if test="${page == 'browse_services'}">
				<li id="current">
				<h:commandLink action="browse_services"  rendered="#{UserBean.reader}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_services.gif" class="toolbar"/>
					<h:outputText value="#{res['browse_services.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'browse_services' and UserBean.reader == true}">
				<li>
				<h:commandLink action="browse_services" rendered="#{UserBean.reader}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_services.gif" class="toolbar"/>
					<h:outputText value="#{res['browse_services.pageTitle']}"/>
				</h:commandLink>
			</li>
			</c:if>

			<c:if test="${page == 'browse_data'}">
				<li id="current">
				<h:commandLink action="browse_data" rendered="#{UserBean.reader}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_data.gif" class="toolbar"/>
					<h:outputText value="#{res['browse_data.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'browse_data' and UserBean.reader == true}">
				<li>
				<h:commandLink action="browse_data" rendered="#{UserBean.reader}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_data.gif" class="toolbar"/>
					<h:outputText value="#{res['browse_data.pageTitle']}"/>
				</h:commandLink>
			</li>
			</c:if>
			
			<c:if test="${page == 'browse_ontology'}">
				<li id="current">
				<h:commandLink action="#{Manager_Backing.initOntologDnDBean}" rendered="#{UserBean.reader}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_ontology.gif" class="toolbar"/>
					<h:outputText value="#{res['browse_ontology.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'browse_ontology' and UserBean.reader == true}">
				<li>
				<h:commandLink action="#{Manager_Backing.initOntologDnDBean}" rendered="#{UserBean.reader}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_ontology.gif" class="toolbar"/>
					<h:outputText value="#{res['browse_ontology.pageTitle']}"/>
				</h:commandLink>
			</li>
			</c:if>

<!-- start of admin tabs -->
			<c:if test="${page == 'exp_scheduler'}">
				<li id="current">
				<h:commandLink action="exp_scheduler" rendered="#{UserBean.admin}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_scheduler.gif" class="toolbar"/>
					<h:outputText value="#{res['exp_scheduler.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'exp_scheduler' and UserBean.admin == true}">
				<li>
				<h:commandLink action="exp_scheduler" rendered="#{UserBean.admin}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_scheduler.gif" class="toolbar"/>
					<h:outputText value="#{res['exp_scheduler.pageTitle']}"/>
				</h:commandLink>
			</li>
			</c:if>
      <!-- 
			<c:if test="${page == 'upload_data'}">
				<li id="current">
				<h:commandLink action="upload_data" rendered="#{UserBean.admin}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_dataup.gif" class="toolbar"/>
					<h:outputText value="#{res['upload_data.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'upload_data' and UserBean.admin == true}">
				<li>
				<h:commandLink action="upload_data" rendered="#{UserBean.admin}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_dataup.gif" class="toolbar"/>
					<h:outputText value="#{res['upload_data.pageTitle']}"/>
				</h:commandLink>
			</li>
			</c:if>
       -->
			<c:if test="${page == 'manage_users'}">
				<li id="current">
				<h:commandLink action="manage_users" rendered="#{UserBean.admin}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_usermanage.gif" class="toolbar"/>
					<h:outputText value="#{res['manage_users.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'manage_users' and UserBean.admin == true}">
				<li>
				<h:commandLink action="manage_users" rendered="#{UserBean.admin}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_usermanage.gif" class="toolbar"/>
					<h:outputText value="#{res['manage_users.pageTitle']}"/>
				</h:commandLink>
			</li>
			</c:if>
      
<!-- end of experimenter tabs -->
			
			<c:if test="${page == 'help'}">
				<li id="current">
				<h:commandLink action="help"  rendered="#{UserBean.reader}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_help.gif" class="toolbar"/>
					<h:outputText value="#{res['help.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'help' and UserBean.reader == true}">
				<li>
				<h:commandLink action="help"  rendered="#{UserBean.reader}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_help.gif" class="toolbar"/>
					<h:outputText value="#{res['help.pageTitle']}"/>
				</h:commandLink>
			</li>
			</c:if>			
		</ul>
	</div>
        </h:form>
	<div class="clear"></div>
      
</ui:composition>
</body>
</html>
