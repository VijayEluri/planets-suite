<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:tb="http://planets-project.eu/testbed">      
<body>

<ui:composition>
<tb:getUser></tb:getUser>
  <f:loadBundle basename="eu.planets_project.tb.gui.UIResources"
                var="res"/>
	<div id="banner">

		<a name="top"></a>
		<img src="${facesContext.externalContext.requestContextPath}/graphics/PlanetsLogo.gif" alt="PLANETS: Testbed" title="PLANETS: Testbed" />
	</div>
	<div id="gelinks">
		<div id="geleft"> &#160;</div>
		<h:form>
			<ui:fragment id="userLogin" rendered="#{empty userBean}">
				<div id="geright">
					<p class="glinks"> 
						<h:commandLink styleClass="glinks" action="login">
							<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_user.gif" class="toolbar"/>
							<h:outputText value="#{res['login.login']}"/>
						</h:commandLink>
					</p>		
				</div>
			</ui:fragment>
			<ui:fragment id="userHeader" rendered="#{not empty userBean}">
				<div id="geright">
					<p class="glinks">${userBean.userid}
						<h:commandLink styleClass="glinks" action="profile">
							<img class="toolbar" src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_user.gif" alt="" title="" />
							<h:outputText value="#{res.editprofile}"/>
						</h:commandLink> | 
						<h:commandLink styleClass="glinks" action="#{Login_Backing.logout}" immediate="true">
							<img class="toolbar" src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_logout.gif" alt="" title="" />
							<h:outputText value="#{res.logout}"/>
						</h:commandLink>
					</p>
				</div>
			</ui:fragment>
		</h:form>
	</div>

	<div class="clear"></div>

	<div id="header">
<h:form>	    
		<ul>
			<c:if test="${(empty page) or (page == 'home')}">
				<li id="current">
				<h:commandLink action="home">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_home.gif" class="toolbar"/>
					<h:outputText value="#{res.home}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${(!empty page) and (page != 'home')}">
				<li>
				<h:commandLink action="home">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_home.gif" class="toolbar"/>
					<h:outputText value="#{res.home}"/>
				</h:commandLink>
				</li>
			</c:if>
			
<!-- start of experimenter tabs -->						
			<c:if test="${page == 'new_exp'}">
				<li id="current">
				<h:commandLink action="new_experiment" rendered="#{userBean.experimenter}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_new.gif" class="toolbar"/>
					<h:outputText value="#{res['new_exp.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'new_exp'}">
				<li>
				<h:commandLink action="new_experiment" rendered="#{userBean.experimenter}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_new.gif" class="toolbar"/>
					<h:outputText value="#{res['new_exp.pageTitle']}"/>
				</h:commandLink>
			</li>
			</c:if>
			<c:if test="${page == 'import_exp'}">
				<li id="current">
				<h:commandLink action="import_experiment" rendered="#{userBean.experimenter}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_import.gif" class="toolbar"/>
					<h:outputText value="#{res['import_exp.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'import_exp'}">
				<li>
				<h:commandLink action="import_experiment" rendered="#{userBean.experimenter}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_import.gif" class="toolbar"/>
					<h:outputText value="#{res['import_exp.pageTitle']}"/>
				</h:commandLink>
			</li>
			</c:if>
			<c:if test="${page == 'my_exp'}">
				<li id="current">
				<h:commandLink action="my_experiments" rendered="#{userBean.experimenter}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_my.gif" class="toolbar"/>
					<h:outputText value="#{res['my_exp.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'my_exp'}">
				<li>
				<h:commandLink action="my_experiments" rendered="#{userBean.experimenter}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_my.gif" class="toolbar"/>
					<h:outputText value="#{res['my_exp.pageTitle']}"/>
				</h:commandLink>
			</li>
			</c:if>
<!-- end of experimenter tabs -->			
			
			<c:if test="${page == 'browse_exp'}">
				<li id="current">
					<h:commandLink action="browse_experiments">
						<img class="toolbar" src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_browse.gif" alt="" title="" />
						 #{res['browse_exp.pageTitle']}
					</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'browse_exp'}">
				<li>
					<h:commandLink action="browse_experiments">
						<img class="toolbar" src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_browse.gif" alt="" title="" />
						 #{res['browse_exp.pageTitle']}
					</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page == 'browse_services'}">
				<li id="current">
				<h:commandLink action="browse_services">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_services.gif" class="toolbar"/>
					<h:outputText value="#{res['browse_services.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'browse_services'}">
				<li>
				<h:commandLink action="browse_services">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_services.gif" class="toolbar"/>
					<h:outputText value="#{res['browse_services.pageTitle']}"/>
				</h:commandLink>
			</li>
			</c:if>
			<c:if test="${page == 'browse_data'}">
				<li id="current">
				<h:commandLink action="browse_data">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_data.gif" class="toolbar"/>
					<h:outputText value="#{res['browse_data.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'browse_data'}">
				<li>
				<h:commandLink action="browse_data">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_data.gif" class="toolbar"/>
					<h:outputText value="#{res['browse_data.pageTitle']}"/>
				</h:commandLink>
			</li>
			</c:if>

<!-- start of admin tabs -->
			<c:if test="${page == 'exp_scheduler'}">
				<li id="current">
				<h:commandLink action="exp_scheduler" rendered="#{userBean.admin}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_scheduler.gif" class="toolbar"/>
					<h:outputText value="#{res['exp_scheduler.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'exp_scheduler'}">
				<li>
				<h:commandLink action="exp_scheduler" rendered="#{userBean.admin}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_scheduler.gif" class="toolbar"/>
					<h:outputText value="#{res['exp_scheduler.pageTitle']}"/>
				</h:commandLink>
			</li>
			</c:if>
			<c:if test="${page == 'upload_data'}">
				<li id="current">
				<h:commandLink action="upload_data" rendered="#{userBean.admin}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_dataup.gif" class="toolbar"/>
					<h:outputText value="#{res['upload_data.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'upload_data'}">
				<li>
				<h:commandLink action="upload_data" rendered="#{userBean.admin}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_dataup.gif" class="toolbar"/>
					<h:outputText value="#{res['upload_data.pageTitle']}"/>
				</h:commandLink>
			</li>
			</c:if>
			<c:if test="${page == 'manage_users'}">
				<li id="current">
				<h:commandLink action="manage_users" rendered="#{userBean.admin}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_usermanage.gif" class="toolbar"/>
					<h:outputText value="#{res['manage_users.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'manage_users'}">
				<li>
				<h:commandLink action="manage_users" rendered="#{userBean.admin}">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_usermanage.gif" class="toolbar"/>
					<h:outputText value="#{res['manage_users.pageTitle']}"/>
				</h:commandLink>
			</li>
			</c:if>
<!-- end of experimenter tabs -->
			
			<c:if test="${page == 'help'}">
				<li id="current">
				<h:commandLink action="help">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_help.gif" class="toolbar"/>
					<h:outputText value="#{res['help.pageTitle']}"/>
				</h:commandLink>
				</li>
			</c:if>
			<c:if test="${page != 'help'}">
				<li>
				<h:commandLink action="help">
					<img src="${facesContext.externalContext.requestContextPath}/graphics/toolbar_help.gif" class="toolbar"/>
					<h:outputText value="#{res['help.pageTitle']}"/>
				</h:commandLink>
			</li>
			</c:if>			
		</ul>
</h:form>
	</div>
	<div class="clear"></div>
</ui:composition>
</body>
</html>
