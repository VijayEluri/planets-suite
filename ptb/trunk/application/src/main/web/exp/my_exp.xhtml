<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<body>
<ui:composition template="/WEB-INF/templates/main_template.xhtml">
  <ui:define name="title">
        #{res.title} - #{res['my_exp.pageTitle']}
  </ui:define>

	<ui:define name="header">
		<ui:include src="/WEB-INF/templates/header.xhtml">
			<ui:param name="page" value="my_exp"/>
		</ui:include>
	</ui:define>

	<ui:define name="content">

	<div id="mainwrapper">
	<div id="maincol">
	<div class="innertubemain">
	<p>You have #{ListExp_Backing.numExperimentsOfUser} experiments listed in the testbed.  Experiments 1 to 10 are listed below.</p>
		
	<h:form>
     <t:dataTable id="dataTable_myExp"
                  var="exp"
                  value="#{ListExp_Backing.experimentsOfUser}"
                  preserveDataModel="false"
                  rows="10"
                  rowId="#{exp.experimentSetup.basicProperties.experimentName}"
                  sortColumn="#{ListExp_Backing.sort}"
                  sortAscending="#{ListExp_Backing.ascending}"
                  preserveSort="true"
                  cellpadding="2"
                  cellspacing="0"
                  border="1"
                  binding="#{ListExp_Backing.myExp_data}">
        <t:column>
            <f:facet name="header">
	         <t:commandSortHeader id="sortName" columnName="name" arrow="true" immediate="false" styleClass="tableHeaderSel">
		          #{res['expList.colHeader.expName']}
    	      </t:commandSortHeader>
    	    </f:facet>
            <h:commandLink action="#{ListExp_Backing.editMyExperimentAction}">
	            <h:outputText value="#{exp.experimentSetup.basicProperties.experimentName}" />
    		</h:commandLink>
        </t:column>
        <t:column>
	        <f:facet name="header">
	            <t:commandSortHeader id="sortType" columnName="type" arrow="true" immediate="false" styleClass="tableHeaderSel">
	    	      #{res['expList.colHeader.type']}
				</t:commandSortHeader>
			</f:facet>	  
	            <h:outputText value="#{exp.experimentSetup.experimentTypeName}" />
        </t:column>
        <t:column>
            <f:facet name="header">#{res['expList.colHeader.startDate']}</f:facet>
            <h:outputText value="#{exp.startDate.time}">
	            <f:convertDateTime type="both" dateStyle="long" timeZone="TimeZone.getTimeZone('GMT+1').getID()"/>
            </h:outputText>
        </t:column>
        <t:column>
            <f:facet name="header">#{res['expList.colHeader.exDate']}</f:facet>
            <h:outputText value="#{exp.experimentExecution.executionEndedDate.time}">
	             <f:convertDateTime type="both" dateStyle="short"/>
            </h:outputText>
        </t:column>
        <t:column>
            <f:facet name="header">#{res['expList.colHeader.currentStage']}</f:facet>
            <h:outputText value="#{exp.currentPhase.phaseName}" />
        </t:column>
        <t:column>
            <f:facet name="header">#{res['expList.colHeader.lastUpdateDate']}</f:facet>
            <h:outputText value="" />
        </t:column>
        <t:column>
            <f:facet name="header">#{res['expList.colHeader.inputOutputFiles']}</f:facet>
            <h:outputText value="#{exp.experimentSetup.basicProperties.experimentedObjectTypes}" />
        </t:column> 
    </t:dataTable>

    <h:panelGrid columns="1" styleClass="scrollerTable2" columnClasses="standardTable_ColumnCentered" >
        <t:dataScroller id="scroll_1"
                        for="dataTable_myExp"
                        fastStep="10"
                        pageCountVar="pageCount"
                        pageIndexVar="pageIndex"
                        styleClass="scroller"
                        paginator="true"
                        paginatorMaxPages="9"
                        paginatorTableClass="paginator"
                        paginatorActiveColumnStyle="font-weight:bold;">
            
            <f:facet name="first" >
                <t:graphicImage url="/graphics/arrow-first.gif" border="1" />
            </f:facet>
            <f:facet name="last">
                <t:graphicImage url="/graphics/arrow-last.gif" border="1" />
            </f:facet>
            <f:facet name="previous">
                <t:graphicImage url="/graphics/arrow-previous.gif" border="1" />
            </f:facet>
            <f:facet name="next">
                <t:graphicImage url="/graphics/arrow-next.gif" border="1" />
            </f:facet>
            <f:facet name="fastforward">
                <t:graphicImage url="/graphics/arrow-ff.gif" border="1" />
            </f:facet>
            <f:facet name="fastrewind">
                <t:graphicImage url="/graphics/arrow-fr.gif" border="1" />
            </f:facet>
        </t:dataScroller>

    </h:panelGrid>
    </h:form>
	

	<div class="clear"></div>
	</div>
	</div>
	</div>
	
	
	<div id="leftcol">
	
	<h3 class="leftcol">Listing Options</h3>
	<div class="innertube">
	<p class="leftcol">Options allowing you to change the number of files displayed per page will appear here in later versions.</p>
	
	</div>
	</div>


	</ui:define>

	<ui:define name="footer">
		<ui:include src="/WEB-INF/templates/footer.xhtml"/>
	</ui:define>
</ui:composition>

</body>
</html>