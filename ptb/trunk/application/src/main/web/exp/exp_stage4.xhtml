<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:t="http://myfaces.apache.org/tomahawk"
    xmlns:c="http://java.sun.com/jstl/core">
<body>
<ui:composition template="/WEB-INF/templates/main_template.xhtml">
	<ui:define name="title">
        #{res.title} - #{ExperimentBean.ename}: #{res['exp_stage4.pageTitle']}
  </ui:define>

	<ui:define name="header">
		<ui:include src="/WEB-INF/templates/header.xhtml">
			<ui:param name="page" value="new_exp" />
		</ui:include>
	</ui:define>

	<ui:define name="content">
		<div id="mainwrapper">
		<div id="maincol">
		<div class="innertubemain">
    
<h:form>
    <h:panelGroup rendered="#{ExperimentBean.currentStage le 4}">
<p><b>Your experiment has been submitted for approval and execution.</b></p>
<p>Your experiment will checked by the Testbed administrator, depending on the intensity of your experiment and the size of the experiment dataset.</p>
<p>If your experiment requires manual approval the Testbed administrator may approve your experiment for immediate execution, schedule your experiment for execution at a later time or request that you make changes to your experiment before it is executed.  If changes are requested the administrator will notify you and control of the experiment will be returned to you.</p>
<hr />

<p>
<h:outputText value="#{res['approve_exp.awaitApproval']}" rendered="#{ExperimentBean.experiment.experimentApproval.decision == null }"/><br/>
<h:outputText value="#{res['approve_exp.explanation']}" /><br/>
<h:outputText value="#{ExperimentBean.experiment.experimentApproval.explanation}" /><br/>
<h:outputText value="#{ExperimentBean.experiment.experimentApproval.go}" /><br/>
<h:outputText value="#{ExperimentBean.experiment.experimentApproval.go}" /><br/>
<h:outputText value="#{ExperimentBean.experiment.experimentApproval.approvalUsersIDs}" /><br/>
</p>

    </h:panelGroup>
 </h:form>
    
<h:form>
    <h:panelGroup rendered="#{ExperimentBean.currentStage gt 4}">
<p><b>Your experiment has been approved for execution.</b></p>
<p>
Please proceed to the next stage:<br/>
 <h:commandButton value="#{res['new_exp.stage5']}"
                        action="goToStage5"/>
</p>

<p>
<h:outputText value="#{res['approve_exp.awaitApproval']}" rendered="#{ExperimentBean.experiment.experimentApproval.decision == null }"/><br/>
<h:outputText value="#{res['approve_exp.explanation']}" /><br/>
<h:outputText value="#{ExperimentBean.experiment.experimentApproval.explanation}" /><br/>
<h:outputText value="#{ExperimentBean.experiment.experimentApproval.go}" /><br/>
<h:outputText value="#{ExperimentBean.experiment.experimentApproval.go}" /><br/>
<h:outputText value="#{ExperimentBean.experiment.experimentApproval.approvalUsersIDs}" /><br/>
</p>


    </h:panelGroup>
</h:form>
		<p>&#160;</p>
		<p>&#160;</p>

		<p>&#160;</p>
		<p>&#160;</p>
		<p>&#160;</p>
		<p>&#160;</p>
		<p>&#160;</p>
		<p>&#160;</p>
		<p>&#160;</p>
		<p>&#160;</p>

    <ui:include src="/WEB-INF/templates/comment_template.xhtml">
       <ui:param name="ExperimentBean" value="#{ExperimentBean}" />
       <ui:param name="ExperimentPhase" value="4" />
    </ui:include>
        
		</div>
		</div>
		</div>


		<div id="leftcol">

		<h3 class="leftcol">#{res['new_exp.progress']}</h3>
		<div class="innertube">
			<ul class="exp"><h:form>
				<h:panelGroup rendered="#{ExperimentBean.currentStage > 1}">
					<li class="exp"><h:commandLink action="goToStage1"
								styleClass="exp_done">
							<t:outputText value="#{res['new_exp.stage1']}" />
					</h:commandLink></li>
				</h:panelGroup>
				<h:panelGroup rendered="#{ExperimentBean.currentStage lt 1}">
					<li class="exp_nd">#{res['new_exp.stage1']}</li>
				</h:panelGroup>
				<h:panelGroup rendered="#{ExperimentBean.currentStage == 1}">
					<li class="exp_sel"><h:commandLink action="goToStage1" styleClass="exp">
					<t:outputText value="#{res['new_exp.stage1']}" />
					</h:commandLink></li>
				</h:panelGroup>
				
				<h:panelGroup rendered="#{ExperimentBean.currentStage > 2}">
					<li class="exp"><h:commandLink action="goToStage2"
								styleClass="exp_done">
							<t:outputText value="#{res['new_exp.stage2']}" />
					</h:commandLink></li>
				</h:panelGroup>
				<h:panelGroup rendered="#{ExperimentBean.currentStage lt 2}">
					<li class="exp_nd">#{res['new_exp.stage2']}</li>
				</h:panelGroup>
				<h:panelGroup rendered="#{ExperimentBean.currentStage == 2}">
					<li class="exp_sel"><h:commandLink action="goToStage2" styleClass="exp">
					<t:outputText value="#{res['new_exp.stage2']}" />
					</h:commandLink></li>
				</h:panelGroup>
				
				<h:panelGroup rendered="#{ExperimentBean.currentStage > 3}">
					<li class="exp"><h:commandLink action="goToStage3"
								styleClass="exp_done">
							<t:outputText value="#{res['new_exp.stage3']}" />
					</h:commandLink></li>
				</h:panelGroup>
				<h:panelGroup rendered="#{ExperimentBean.currentStage lt 3}">
					<li class="exp_nd">#{res['new_exp.stage3']}</li>
				</h:panelGroup>
				<h:panelGroup rendered="#{ExperimentBean.currentStage ==3}">
					<li class="exp_sel"><h:commandLink action="goToStage3" styleClass="exp">
					<t:outputText value="#{res['new_exp.stage3']}" />
					</h:commandLink></li>
				</h:panelGroup>
				
				<h:panelGroup rendered="#{ExperimentBean.currentStage > 4}">
					<li class="exp"><h:commandLink action="goToStage4"
								styleClass="exp_done">
							<t:outputText value="#{res['new_exp.stage4']}" />
					</h:commandLink></li>
				</h:panelGroup>
				<h:panelGroup rendered="#{ExperimentBean.currentStage lt 4}">
					<li class="exp_nd">#{res['new_exp.stage4']}</li>
				</h:panelGroup>
				<h:panelGroup rendered="#{ExperimentBean.currentStage == 4}">
					<li class="exp_sel"><h:commandLink action="goToStage4" styleClass="exp">
					<t:outputText value="#{res['new_exp.stage4']}" />
					</h:commandLink></li>
				</h:panelGroup>
				
				<h:panelGroup rendered="#{ExperimentBean.currentStage > 5}">
					<li class="exp"><h:commandLink action="goToStage5"
								styleClass="exp_done">
							<t:outputText value="#{res['new_exp.stage5']}" />
					</h:commandLink></li>
				</h:panelGroup>
				<h:panelGroup rendered="#{ExperimentBean.currentStage lt 5}">
					<li class="exp_nd">#{res['new_exp.stage5']}</li>
				</h:panelGroup>
				<h:panelGroup rendered="#{ExperimentBean.currentStage == 5}">
					<li class="exp_sel"><h:commandLink action="goToStage5" styleClass="exp">
					<t:outputText value="#{res['new_exp.stage5']}" />
					</h:commandLink></li>
				</h:panelGroup>
				
				<h:panelGroup rendered="#{ExperimentBean.currentStage > 6}">
					<li class="exp"><h:commandLink action="goToStage6"
								styleClass="exp_done">
							<t:outputText value="#{res['new_exp.stage6']}" />
					</h:commandLink></li>
				</h:panelGroup>
				<h:panelGroup rendered="#{ExperimentBean.currentStage lt 6}">
					<li class="exp_nd">#{res['new_exp.stage6']}</li>
				</h:panelGroup>
				<h:panelGroup rendered="#{ExperimentBean.currentStage == 6}">
					<li class="exp_sel"><h:commandLink action="goToStage6" styleClass="exp">
					<t:outputText value="#{res['new_exp.stage6']}" />
					</h:commandLink></li>
				</h:panelGroup>
				</h:form>
			</ul>							
		</div>
		</div>

	</ui:define>
	<ui:define name="footer">
		<ui:include src="/WEB-INF/templates/footer.xhtml" />
	</ui:define>
</ui:composition>

</body>
</html>