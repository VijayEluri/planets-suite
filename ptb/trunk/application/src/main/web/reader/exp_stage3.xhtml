<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
    xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<body>
<ui:composition template="/WEB-INF/templates/main_template.xhtml">
	<ui:define name="title">
        #{res.title} - #{ExperimentBean.ename}: #{res['exp_stage3.pageTitle']}
  </ui:define>

	<ui:define name="header">
		<ui:include src="/WEB-INF/templates/header.xhtml">
			<ui:param name="page" value="new_exp" />
		</ui:include>
		<script type="text/javascript"
			src="${facesContext.externalContext.requestContextPath}/js/overlib/overlib.js"></script>
	</ui:define>

	<ui:define name="content">
#{Manager_Backing.retrieveBenchmarkBeans}
		<div id="mainwrapper">
			<div id="maincol">
				<div class="innertubemain">
					<h:form>
						<fieldset>
							<legend>#{res['reader_exp.stageThreeLegendOne']}</legend>
					
                                                            <p><h:outputText value="#{res['exp_stage3.outputFiles']}" styleClass="readerLabel" />
                                                            #{ExperimentBean.numberOfOutputFiles}
                                                            </p>
                                                            <div class="clear"></div>
								
							<p>
								<h:outputText value="#{res['reader_exp.stageThreeLegendTwo']}" styleClass="readerLabel" />	
                                                               #{ExperimentBean.intensity}
							</p>
							<div class="clear"></div>
						</fieldset>
						<fieldset>
							<legend>#{res['reader_exp.stageThreeLegendTwo']}</legend>
						  				<t:dataTable id="dataTable" var="bm"
				value="#{ExperimentBean.benchmarkBeans}" preserveDataModel="false"
				rows="4" rowId="#{bm.ID}" cellpadding="2" cellspacing="0" border="1">
				<t:column>
					<f:facet name="header">#{res['exp_stage6.criteria']}</f:facet>
				    #{bm.name}
				</t:column>
				<t:column>
					<f:facet name="header">#{res['exp_stage6.explanation']}</f:facet>
				    #{bm.definition} <br />
					<i>#{bm.description}</i>
				</t:column>
			</t:dataTable>
						</fieldset>
                                		<p>
            <h:commandButton value="#{res['reader_exp.buttonStage3']}" 
            action="#{Manager_Backing.loadReaderStage4}" disabled="#{ExperimentBean.currentStage lt 4}" />		
		</p>		
					</h:form>
				</div>
			</div>
		</div>

		<div id="leftcol">

		<h3 class="leftcol">#{res['new_exp.progress']}</h3>
		<div class="innertube">
			<ul class="exp"><h:form>
				<li class="exp"><h:commandLink action="goToReaderStage1"
							styleClass="exp_done">
						<t:outputText value="#{res['new_exp.stage1']}" />
				</h:commandLink></li>
				<li class="exp"><h:commandLink action="goToReaderStage2"
							styleClass="exp_done">
						<t:outputText value="#{res['new_exp.stage2']}" />
				</h:commandLink></li>
				<li class="exp_sel"><a href="#" class="exp">#{res['new_exp.stage3']}</a></li>
				<h:panelGroup rendered="#{ExperimentBean.currentStage >= 4}">
					<li class="exp"><h:commandLink action="goToReaderStage4"
								styleClass="exp_done">
							<t:outputText value="#{res['new_exp.stage4']}" />
					</h:commandLink></li>
				</h:panelGroup>
				<h:panelGroup rendered="#{ExperimentBean.currentStage lt 4}">
					<li class="exp_nd">#{res['new_exp.stage4']}</li>
				</h:panelGroup>
				<h:panelGroup rendered="#{ExperimentBean.currentStage >= 5}">
					<li class="exp"><h:commandLink action="goToReaderStage5"
								styleClass="exp_done">
							<t:outputText value="#{res['new_exp.stage5']}" />
					</h:commandLink></li>
				</h:panelGroup>
				<h:panelGroup rendered="#{ExperimentBean.currentStage lt 5}">
					<li class="exp_nd">#{res['new_exp.stage5']}</li>
				</h:panelGroup>		
				<h:panelGroup rendered="#{ExperimentBean.currentStage >= 6}">
					<li class="exp"><h:commandLink action="goToReaderStage6"
								styleClass="exp_done">
							<t:outputText value="#{res['new_exp.stage6']}" />
					</h:commandLink></li>
				</h:panelGroup>
				<h:panelGroup rendered="#{ExperimentBean.currentStage lt 6}">
					<li class="exp_nd">#{res['new_exp.stage6']}</li>
				</h:panelGroup>	
				</h:form>
			</ul>			
		</div>
		</div>

	</ui:define>
	<ui:define name="footer">
		<ui:include src="/WEB-INF/templates/footer.xhtml" />
	</ui:define>
</ui:composition>

</body>
</html>