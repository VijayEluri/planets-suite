<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<body>
<ui:composition template="/WEB-INF/templates/main_template.xhtml">
  <ui:define name="title">
        #{res.title} - #{res['browse_exp.pageTitle']}
  </ui:define>

<ui:define name="header">
	<ui:include src="/WEB-INF/templates/header.xhtml">
		<ui:param name="page" value="browse_exp"/>
	</ui:include>
</ui:define>

  <ui:define name="content">

<div id="mainwrapper">
<div id="maincol">
<div class="innertubemain">

<h:form>
    <t:dataTable id="data"
                 var="exp"
                 value="#{ListExp_Backing.allExperiments}"
                 preserveDataModel="true"
                 rows="10"
                 rowId="#{exp.experimentSetup.basicProperties.experimentName}"
                 rowOnClick="alert('rowId: ' + this.id)"
                 sortColumn="#{ListExp_Backing.sort}"
                 sortAscending="#{ListExp_Backing.ascending}"
                 preserveSort="true"
                 cellpadding="2"
                 cellspacing="0"
                 border="1">
        <h:column>
            <f:facet name="header">
                <t:commandSortHeader columnName="name" arrow="true" immediate="false" styleClass="tableHeaderSel">
                    #{res['expList.colHeader.expName']}
                </t:commandSortHeader>
            </f:facet>
            <h:outputText value="#{exp.experimentSetup.basicProperties.experimentName}" />
        </h:column>
        <h:column>
	        <f:facet name="header">
	          <t:commandSortHeader columnName="type" arrow="true" immediate="false" styleClass="tableHeaderSel">
	    	      #{res['expList.colHeader.type']}
				</t:commandSortHeader>
			</f:facet>		      
            <h:outputText value="#{exp.experimentSetup.experimentTypeName}" />
        </h:column>
        <h:column>
            <f:facet name="header">#{res['expList.colHeader.startDate']}</f:facet>
            <h:outputText value="#{exp.startDate.time}" />
        </h:column>
        <h:column>
            <f:facet name="header">#{res['expList.colHeader.exDate']}</f:facet>
            <h:outputText value="#{exp.experimentExecution.scheduledExecutionDate.time}" />
        </h:column>
        <h:column>
            <f:facet name="header">#{res['expList.colHeader.currentStage']}</f:facet>
            <h:outputText value="#{exp.currentPhasePointer}" />
        </h:column>
        <h:column>
            <f:facet name="header">#{res['expList.colHeader.lastUpdateDate']}</f:facet>
            <h:outputText value="" />
        </h:column>
        <h:column>
            <f:facet name="header">#{res['expList.colHeader.inputOutputFiles']}</f:facet>
            <h:outputText value="#{exp.experimentSetup.basicProperties.experimentedObjectTypes}" />
        </h:column>
        <h:column>
            <f:facet name="header">
                <t:commandSortHeader columnName="experimenter" arrow="true" immediate="false" styleClass="tableHeaderSel">
                    #{res['expList.colHeader.experimenterName']}
                </t:commandSortHeader>
            </f:facet>
            <h:outputText value="#{exp.experimentSetup.basicProperties.experimenter}" />
        </h:column>
    </t:dataTable>
</h:form>
    <p>&#160;</p>
    <p>&#160;</p>
    <p>&#160;</p>
    <p>&#160;</p>
    <p>&#160;</p>
    <p>&#160;</p>
    <p>&#160;</p>
    <p>&#160;</p>
    <p>&#160;</p>
    <p>&#160;</p>
</div>
</div>
</div>


<div id="leftcol">
<h3 class="leftcol">Your Search:</h3>
<div class="innertube">
<form method="get" action="../"></form>
<p class="leftcol">Viewing <b>all experiments</b>.  There are <b>#{ListExp_Backing.numAllExperiments}</b> experiments available in the Testbed.<br />Experiments 1 to 10 are listed on this page.</p>
<p class="leftcol"><input type="submit" value="Try a new search" /></p>
</div>
 
<h3 class="leftcol">Listing Options</h3>
<div class="innertube">
<p class="leftcol">Change the number of experiments to display per page:<br />

<input type="text" size="3" value="10" /> <input type="submit" value="Go"/></p>

</div>
</div>
  </ui:define>
  <ui:define name="footer">
		<ui:include src="/WEB-INF/templates/footer.xhtml"/>
	</ui:define>
</ui:composition>

</body>
</html>
